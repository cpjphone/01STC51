/*************************************************************************************
//LCD1602Ê±ÖÓ²âÊÔ³ÌÐò
*************************************************************************************/
#include <reg52.h>				           //Í·ÎÄ¼þ
//#include <LCD1602_Drive.h>				   //Í·ÎÄ¼þ
#define uchar unsigned char		           //ºê¶¨Òå
#define uint unsigned int

sbit lcdrs = P2^6;                                                        
sbit lcdrw = P2^5;                                                        
sbit lcden = P2^7;  

void delay(uint x);  //ÉùÃ÷
	
/*************************************************************************************
LCD1602Ð´Ö¸Áî
*************************************************************************************/
void LCD1602_write_com(uchar com)
{
	lcdrs=0;							  //lcdrsÎªµÍµçÆ½Ê±£¬Ð´ÃüÁî
	lcdrw=0;
	delay(1);
	P0=com;
	lcden=1;
	delay(1);
	lcden=0;
}
/*************************************************************************************
LCD1602Ð´Êý¾Ý
*************************************************************************************/
void LCD1602_write_data(uchar dat)
{
	lcdrs=1;							//lcdrsÎª¸ßµçÆ½Ê±£¬Ð´Êý¾Ý
	lcdrw=0;
	delay(1);	
	P0=dat;
	lcden=1;
	delay(1);
	lcden=0;
}
/*************************************************************************************
LCD1602³õÊ¼»¯
*************************************************************************************/
void LCD1602_init()
{
	lcden=0;
	LCD1602_write_com(0x38);					//ÏÔÊ¾Ä£Ê½Éè¶¨,ÉèÖÃ16*2ÏÔÊ¾5*7µãÕó£¬8Î»Êý¾Ý½Ó¿Ú
	LCD1602_write_com(0x0c);					//¿ª¹ØÏÔÊ¾¡¢¹â±êÓÐÎÞÉèÖÃ¡¢¹â±êÉÁË¸ÉèÖÃ
	LCD1602_write_com(0x06);					//Ð´Ò»¸ö×Ö·ûºóÖ¸Õë¼ÓÒ»
	LCD1602_write_com(0x01);					//ÇåÆÁÖ¸Á
}
/*************************************************************************************
Ð´Á¬Ðø×Ö·ûº¯Êý
*************************************************************************************/
void LCD1602_write_word(uchar *s)
{
	while(*s>0)
	{
		LCD1602_write_data(*s);
		s++;
	}
}
