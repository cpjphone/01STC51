C51 COMPILER V9.01   LEDQ                                                                  07/03/2013 22:31:45 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE LEDQ
OBJECT MODULE PLACED IN .\ledQ.obj
COMPILER INVOKED BY: D:\(3)keil4\C51\BIN\C51.EXE ..\ledQ.c BROWSE DEBUG OBJECTEXTEND OBJECT(.\ledQ.obj)

line level    source

   1          #include<reg51.h>                                                               //定义头文件
   2          #include<intrins.h>
   3          #define uchar unsigned char                                             //宏定义
   4          #define uint unsigned int
   5          uchar disp_buffer[8];
   6          //uchar code tab[10][8]={
   7          //{0x00,0x3C,0x66,0x42,0x42,0x42,0x66,0x3C},/*"0",0*/
   8          //{0x00,0x00,0x04,0x04,0x7E,0x00,0x00,0x00},/*"1",1*/
   9          //{0x00,0x64,0x64,0x62,0x52,0x52,0x4A,0x44},/*"2",2*/
  10          //{0x00,0x24,0x44,0x42,0x4A,0x4A,0x4A,0x34},/*"3",3*/
  11          //{0x00,0x10,0x18,0x18,0x14,0x12,0x7E,0x10},/*"4",4*/
  12          //{0x00,0x00,0xCF,0x89,0x89,0x99,0x71,0x00},/*"5",0*/
  13          //{0x00,0x3C,0x4C,0x4A,0x4A,0x4A,0x4A,0x34},/*"6",6*/
  14          //{0x00,0x02,0x02,0x42,0x32,0x0A,0x06,0x02},/*"7",7*/
  15          //{0x00,0x3C,0x52,0x52,0x52,0x52,0x5A,0x34},/*"8",8*/
  16          //{0x00,0x2C,0x52,0x52,0x52,0x52,0x32,0x3C}/*"9",9*/
  17          //};
  18          uchar code tab[17][8]={
  19          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  20          {0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00},/*"未命名文件",0*/
  21          {0x00,0x00,0x00,0x04,0x02,0x00,0x00,0x00},/*"未命名文件",0*/
  22          {0x00,0x00,0x00,0x04,0x02,0x02,0x00,0x00},/*"未命名文件",0*/
  23          {0x00,0x00,0x00,0x04,0x02,0x02,0x04,0x00},/*"未命名文件",0*/
  24          {0x00,0x00,0x00,0x04,0x02,0x02,0x0C,0x00},/*"未命名文件",0*/
  25          {0x00,0x00,0x00,0x04,0x02,0x12,0x0C,0x00},/*"未命名文件",0*/
  26          {0x00,0x00,0x00,0x04,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  27          {0x00,0x00,0x00,0x44,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  28          {0x00,0x00,0x20,0x44,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  29          {0x00,0x10,0x20,0x44,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  30          {0x08,0x10,0x20,0x44,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  31          {0x0C,0x10,0x20,0x44,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  32          {0x0C,0x12,0x20,0x44,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  33          {0x0C,0x12,0x22,0x44,0x22,0x12,0x0C,0x00},/*"未命名文件",0*/
  34          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  35          {0x0C,0x12,0x22,0x44,0x22,0x12,0x0C,0x00}/*"未命名文件",0*/
  36          };      
  37          /***********************************************************************/
  38          //延时函数：功能带有入口参数的延时函数，时间单位1毫秒
  39          /***********************************************************************/
  40          void delayms(int m)
  41          {
  42   1              int i,j;
  43   1              for(i=0;i<m;i++)
  44   1              {
  45   2                      for(j=0;j<123;j++)
  46   2                      {}
  47   2              }
  48   1      }
  49          
  50          void display()
  51          {
  52   1              uchar i,temp;
  53   1              temp = 0xfe;
  54   1              for(i=0;i<8;i++)
  55   1              {
C51 COMPILER V9.01   LEDQ                                                                  07/03/2013 22:31:45 PAGE 2   

  56   2                      P2 = temp;
  57   2                      P0 = disp_buffer[i];
  58   2                      delayms(2);
  59   2                      P0 = 0x00;
  60   2                      temp = _crol_(temp,1);  
  61   2              }
  62   1      }
  63          
  64          /***********************************************************************/
  65          //
  66          /***********************************************************************/
  67          void main()
  68          {
  69   1              uchar i,j=0;
  70   1              uint con=0;
  71   1              while(1)
  72   1              {
  73   2                      for(i=0;i<8;i++)
  74   2                      {
  75   3                              disp_buffer[i] = tab[j][i];
  76   3                      }
  77   2                      display();
  78   2                      con++;
  79   2                      if(con>10)
  80   2                      {
  81   3                              con=0;
  82   3                              j++;
  83   3                              if(j>16)
  84   3                                      j=0;
  85   3                      }       
  86   2              }
  87   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    167    ----
   CONSTANT SIZE    =    136    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
